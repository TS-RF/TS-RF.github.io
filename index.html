<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <title data-i18n="title">TSRF: Explainable Fault Diagnosis for Marine Diesel Engines</title>
  <meta name="description" content="TSRF: A Physics-Informed Machine Learning (PIML) approach for Marine Diesel Engine Fault Diagnosis.">
  <meta name="keywords" content="Marine Diesel Engine, Fault Diagnosis, Random Forest, SHAP, Explainable AI, Mechanism Model">
  
  <meta property="og:title" content="TSRF: Explainable Fault Diagnosis for Marine Diesel Engines">
  <meta property="og:image" content="https://ts-rf.github.io/static/images/fig1_structure.jpg">
  <meta property="og:url" content="https://ts-rf.github.io/">
  <meta name="twitter:card" content="summary_large_image">

  <script async src="https://www.googletagmanager.com/gtag/js?id=G-PYVRSFMDRL"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'G-PYVRSFMDRL');
  </script>

  <link href="https://fonts.googleapis.com/css?family=Google+Sans|Noto+Sans|Castoro" rel="stylesheet">
  <link rel="stylesheet" href="./static/css/bulma.min.css">
  <link rel="stylesheet" href="./static/css/bulma-carousel.min.css">
  <link rel="stylesheet" href="./static/css/bulma-slider.min.css">
  <link rel="stylesheet" href="./static/css/fontawesome.all.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1/css/academicons.min.css">
  <link rel="stylesheet" href="./static/css/index.css">
  <link rel="icon" href="./static/images/favicon.svg">

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script defer src="./static/js/fontawesome.all.min.js"></script>
  <script src="./static/js/bulma-carousel.min.js"></script>
  <script src="./static/js/bulma-slider.min.js"></script>
  <script src="./static/js/index.js"></script>
  
  <script>
    window.MathJax = {
      tex: { inlineMath: [['$', '$'], ['\\(', '\\)']] }
    };
  </script>
  <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/xcode.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
  <script>hljs.highlightAll();</script>

  <style>
    /* 样式微调 */
    .keyword-label { font-weight: bold; margin-right: 10px; vertical-align: middle; color: #363636; }
    .tags .tag { transition: all 0.2s ease; font-size: 0.9rem; }
    .tags .tag:hover { background-color: #3273dc; color: #fff; transform: translateY(-2px); box-shadow: 0 4px 6px rgba(50, 115, 220, 0.2); }
    .reveal { opacity: 0; transform: translateY(30px); transition: all 0.8s cubic-bezier(0.16, 1, 0.3, 1); }
    .reveal.active { opacity: 1; transform: translateY(0); }
    .reveal.delay-1 { transition-delay: 0.1s; }
    .reveal.delay-2 { transition-delay: 0.2s; }
    .hover-card { transition: transform 0.3s ease, box-shadow 0.3s ease; will-change: transform; }
    .hover-card:hover { transform: translateY(-5px); box-shadow: 0 10px 30px -10px rgba(0,0,0,0.2); }
    .highlight-list li { background: #f8f9fa; padding: 1.5rem; border-radius: 8px; margin-bottom: 1rem; border-left: 4px solid #3273dc; }
    /* RTL 支持 */
    [dir="rtl"] .highlight-list li { border-left: none; border-right: 4px solid #3273dc; }
    .stagger-wrapper .stagger-item { opacity: 0; transform: translateX(-20px); transition: all 0.6s ease-out; }
    .stagger-wrapper.active .stagger-item { opacity: 1; transform: translateX(0); }
    .stagger-wrapper.active .stagger-item:nth-child(1) { transition-delay: 0.1s; }
    .stagger-wrapper.active .stagger-item:nth-child(2) { transition-delay: 0.3s; }
    .stagger-wrapper.active .stagger-item:nth-child(3) { transition-delay: 0.5s; }
  </style>

  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "ScholarlyArticle",
    "headline": "Thermodynamic simulation-assisted random forest",
    "image": ["https://ts-rf.github.io/static/images/fig1_structure.jpg"],
    "datePublished": "2025-01-01",
    "author": [{"@type": "Person", "name": "Minghang Zhao"}],
    "publisher": {"@type": "Organization", "name": "Elsevier Measurement"}
  }
  </script>
</head>
<body>

<nav class="navbar" role="navigation" aria-label="main navigation">
  <div class="navbar-brand">
    <a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false">
      <span aria-hidden="true"></span><span aria-hidden="true"></span><span aria-hidden="true"></span>
    </a>
  </div>
  <div class="navbar-menu">
    <div class="navbar-start" style="flex-grow: 1; justify-content: center;">
      <a class="navbar-item" href="https://scholar.google.com/citations?hl=zh-CN&user=k82TzLwAAAAJ" target="_blank">
        <span class="icon" style="margin-right: 0.3rem;">
            <img src="https://upload.wikimedia.org/wikipedia/commons/c/c7/Google_Scholar_logo.svg" alt="Google Scholar" style="height: 20px; width: 20px;">
        </span>
        <span data-i18n="nav_scholar">Minghang Zhao (Google Scholar)</span>
      </a>
    </div>
    
    <div class="navbar-end">
      <div class="navbar-item has-dropdown is-hoverable">
        <a class="navbar-link">
          <span class="icon" style="margin-right: 5px;"><i class="fas fa-globe"></i></span>
          <span id="current-lang-label">English</span>
        </a>
        <div class="navbar-dropdown is-right" id="language-dropdown" style="max-height: 400px; overflow-y: auto;">
          </div>
      </div>
    </div>
  </div>
</nav>

<section class="hero reveal"> 
  <div class="hero-body" style="padding-top: 1rem;">
    <div class="container is-max-desktop">
      <div class="columns is-centered">
        <div class="column has-text-centered">
          <h1 class="title is-1 publication-title" data-i18n="title">Thermodynamic simulation-assisted random forest: Towards explainable fault diagnosis of combustion chamber components of marine diesel engines</h1>
          
          <div class="is-size-5 publication-authors">
            <span class="author-block"><strong>Congcong Luo</strong><sup>a</sup>,</span>
            <span class="author-block">
              <a href="https://homepage.hit.edu.cn/zhaominghang?lang=zh" target="_blank" style="color: #3273dc; text-decoration: underline;"><strong>Minghang Zhao</strong></a><sup>a,*</sup>,
            </span>
            <span class="author-block"><strong>Xuyun Fu</strong><sup>a</sup>,</span>
            <span class="author-block"><strong>Shisheng Zhong</strong><sup>a</sup>,</span>
            <span class="author-block"><strong>Song Fu</strong><sup>b</sup>,</span>
            <span class="author-block"><strong>Kai Zhang</strong><sup>c</sup>,</span>
            <span class="author-block"><strong>Xiaoxia Yu</strong><sup>d</sup></span>
          </div>

          <div class="is-size-6 publication-authors" style="font-size: 0.8rem; line-height: 1.5;">
            <span class="author-block"><sup>a</sup><span data-i18n="affiliations_a">Department of Mechanical Engineering, Harbin Institute of Technology, Weihai 264209, China</span></span><br>
            <span class="author-block"><sup>b</sup>School of Mechatronics Engineering, Harbin Institute of Technology, Harbin 150001, China</span><br>
            <span class="author-block"><sup>c</sup>School of Mechanical Engineering, Southwest Jiaotong University, Chengdu 610031, China</span><br>
            <span class="author-block"><sup>d</sup>College of Mechanical Engineering, Chongqing University of Technology, Chongqing 400054, China</span>
          </div>

          <div class="column has-text-centered">
            <div class="publication-links">
              <span class="link-block">
                <a href="https://doi.org/10.1016/j.measurement.2025.117252" class="button is-normal is-rounded is-dark hover-card" target="_blank">
                  <span class="icon"><i class="fas fa-file-pdf"></i></span>
                  <span data-i18n="nav_paper">Paper</span>
                </a>
              </span>
              <span class="link-block">
                <a href="https://github.com/815177491/TSRF.github.io/releases/tag/DATA" target="_blank" class="button is-normal is-rounded is-dark hover-card">
                  <span class="icon"><i class="fas fa-file-csv"></i></span>
                  <span data-i18n="nav_dataset">Dataset</span>
                </a>
              </span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<section class="section" style="padding-top: 0rem;">
    <div class="container is-max-desktop">
    <div class="columns is-centered has-text-centered">
      <div class="column is-four-fifths">
        <h2 class="title is-3 reveal" data-i18n="abstract_title">Abstract</h2>
        <div class="content has-text-justified reveal delay-1">
          <p data-i18n="abstract_p1">
            Aiming at the challenges that traditional intelligent fault diagnosis methods of marine diesel engines often suffer low generalizability due to the lack of fault training samples, as well as poor explainability due to the insufficient incorporation of domain knowledge on fault mechanism, this paper develops a <strong>Thermodynamic Simulation-assisted Random Forest (TSRF)</strong>.
          </p>
          <p data-i18n="abstract_p2">
            The method reveals fault characteristics through thermodynamic simulations and incorporates them as prior knowledge when designing the intelligent fault diagnosis model. Firstly, five thermodynamic fault models are developed by fine-tuning the essential system parameters to correspond with the distinct attributes of different faults. Then, potential thermodynamic indicators of combustion chamber component degradation are identified through numerical simulation results.
          </p>
          <p data-i18n="abstract_p3">
            By calculating SHapley Additive explanations (SHAP) values, a parameter selection process is conducted to retain only those variables demonstrating significant correlations with fault states. Finally, the selected parameters are leveraged to assess the condition of the combustion chamber. The proposed TSRF achieved exceptional classification performance, illustrating a mean accuracy of 99.07% on the fault dataset.
          </p>

          <div class="keywords-container" style="margin-top: 2rem;">
            <span class="keyword-label" data-i18n="keywords_label">Keywords:</span>
            <div class="tags is-inline-block">
              <span class="tag is-light is-info">Marine Diesel Engine</span>
              <span class="tag is-light is-info">Fault Diagnosis</span>
              <span class="tag is-light is-info">Explainable AI</span>
              <span class="tag is-light is-info">SHAP</span>
            </div>
          </div>
        </div>
      </div>
    </div>
    </div>
</section>

<section class="section" style="padding-top: 1rem;">
  <div class="container is-max-desktop">

    <div class="columns is-centered">
      <div class="column is-full-width">
        <h2 class="title is-3 reveal" data-i18n="motivation_title">Motivation</h2>
        <div class="content has-text-justified reveal delay-1">
          <p data-i18n="motivation_p1">
            In the fields of marine engineering and Prognostics and Health Management (PHM), the industry faces two persistent bottlenecks:
          </p>
          <ul>
            <li><strong data-i18n="motivation_li1">Data Scarcity: Marine engines are high-value assets that are rarely operated to failure. This results in a critical shortage of the labeled "fault data" necessary to train robust machine learning models.</strong></li>
            <li><strong data-i18n="motivation_li2">The "Black Box" Problem: Deep learning models often lack transparency. If an AI diagnoses a fault but cannot explain the physical reasoning, it is difficult for engineers to trust it. This lack of interpretability is a primary obstacle to widespread industry adoption.</strong></li>
          </ul>
          <p data-i18n="motivation_p2">
            To overcome these challenges, we introduce TSRF. By fusing physics-based mechanism models with advanced XAI techniques, we address the data scarcity problem through massive synthetic data generation and ensure that diagnostic decisions align with thermodynamic principles.
          </p>
        </div>
      </div>
    </div>

    <hr>

    <div class="columns is-centered">
      <div class="column is-full-width">
        <h2 class="title is-3 reveal" data-i18n="methodology_title">Methodology</h2>
        
        <div class="content has-text-justified reveal delay-1">
          <p>
            Our workflow consists of four distinct stages, as illustrated below:
          </p>
          <ol>
            <li><strong>Thermodynamic Modeling:</strong> Rather than relying solely on physical test rigs, we constructed a high-fidelity 1-D thermodynamic model of a 6-cylinder marine diesel engine. The model was rigorously calibrated using real-world operational data, keeping simulation errors within 5%.</li>
            <li><strong>Fault Injection:</strong> Using the calibrated model, we simulated five specific combustion chamber faults (e.g., Head Cracking, Piston Ablation) by fine-tuning physical parameters. This enabled the generation of a comprehensive dataset covering scenarios that are impossible to capture from a real engine.</li>
            <li><strong>Feature Selection via SHAP:</strong> We utilized SHAP values to quantitatively identify the critical features—specifically, the 14 key parameters that drive the diagnostic decision.</li>
            <li><strong>Classification:</strong> A Random Forest (RF) classifier was trained using this physics-enhanced dataset to achieve high diagnostic precision.</li>
          </ol>
        </div>
        
        <div class="has-text-centered reveal delay-2">
          <img src="./static/images/fig1_structure.jpg" class="hover-card" alt="Structure of TSRF" style="width:100%; height:auto; border-radius: 10px;">
          <p class="subtitle is-6"><strong>Figure 1:</strong> The structure of our proposed TSRF method.</p>
        </div>
      </div>
    </div>

    <hr>

    <div class="columns is-centered">
      <div class="column is-full-width">
        <h2 class="title is-3 reveal">Thermodynamic Modeling Details</h2>
        <div class="content has-text-justified reveal delay-1">
          <p>To ensure high fidelity, we constructed a one-dimensional (1-D) operational cycle simulation. This mechanism model balances physical accuracy with the computational efficiency.</p>
        </div>
        
        <div class="columns is-centered reveal" style="margin-top: 1rem; margin-bottom: 1rem;">
          <div class="column is-8 has-text-centered">
            <div style="height: 320px; display: flex; align-items: center; justify-content: center; margin-bottom: 10px;">
              <img src="./static/images/fig2_simulator.png" class="hover-card" alt="1-D model" style="height: 100%; width: auto; max-width: 100%; object-fit: contain; border-radius: 8px;">
            </div>
            <p class="subtitle is-6"><strong>Figure 2:</strong> One-dimensional thermodynamic model.</p>
          </div>
          <div class="column is-4 has-text-centered">
             <div style="height: 320px; display: flex; align-items: center; justify-content: center; margin-bottom: 10px;">
              <img src="./static/images/fig5_faults.jpg" class="hover-card" alt="Model Validation" style="height: 100%; width: auto; max-width: 100%; object-fit: contain; border-radius: 8px;">
            </div>
            <p class="subtitle is-6"><strong>Figure 5:</strong> Data Collecting Module (DCM).</p>
          </div>
        </div>

        <div class="box hover-card reveal" style="margin-top: 1.5rem;">
          <h4 class="title is-4 is-size-5" style="display: flex; align-items: center; justify-content: center;">
            <span class="icon has-text-black" style="margin-right: 8px;"><i class="fas fa-cogs"></i></span>
            <span>Fault Injection Mechanism</span>
          </h4>
          <div class="table-container">
            <table class="table is-fullwidth is-striped is-hoverable is-size-6">
              <thead><tr style="background-color: #f5f5f5;"><th>Fault Type</th><th>Physical Mechanism</th><th>Modeling Implementation</th></tr></thead>
              <tbody>
                <tr><td><strong>F1: Head Cracking</strong></td><td>Disrupted thermal conduction.</td><td>Elevating Cylinder Head Surface Temp ($T_H$) to 346&deg;C.</td></tr>
                <tr><td><strong>F2: Piston Ablation</strong></td><td>Material loss & seal compromise.</td><td>Increasing Piston Temp ($T_P$) + minor blow-by (0.01 kg/s).</td></tr>
                <tr><td><strong>F3: Liner Wear</strong></td><td>Abrasive wear increases bore.</td><td>Increasing Bore Diameter + substantial blow-by (0.03 kg/s).</td></tr>
                <tr><td><strong>F4: Ring Wear</strong></td><td>Gas leakage only.</td><td>Modulation of Blow-by Mass Flow Rate (0.02 kg/s).</td></tr>
                <tr><td><strong>F5: Ring Sticking</strong></td><td>Friction & seal failure.</td><td>Bore Dia. change + Elevated Liner Temp + Blow-by.</td></tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>

    <hr>
    
    <div class="columns is-centered">
      <div class="column is-full-width">
        <h2 class="title is-3 reveal">Explainability Analysis</h2>
        <div class="content has-text-justified reveal delay-1">
          <p>A key innovation of our work is shifting the focus from "What is the fault?" to "Why is this the fault?". We demonstrate this capability through a case study on Piston Ring Wear (F4):</p>
        </div>
        <div class="has-text-centered reveal delay-2">
            <img src="./static/images/fig11_shap.jpg" class="hover-card" alt="SHAP Analysis" style="width:100%; border-radius: 10px;">
            <p class="subtitle is-6"><strong>Figure 11:</strong> Fault analysis of piston ring wear (F4) based on SHAP values.</p>
        </div>

        <div class="reveal delay-2" style="margin-top: 2rem; margin-bottom: 2rem;">
          <details class="box hover-card" style="background-color: #fcfcfc; border: 1px solid #eee;">
            <summary class="title is-5 is-size-6-mobile" style="cursor: pointer; color: #363636; margin-bottom: 0;">
              <span class="icon has-text-info" style="margin-right: 0.5rem;"><i class="fas fa-code"></i></span>
              <span>Click to view SHAP Visualization Code (Python)</span>
            </summary>
            <div class="content has-text-left" style="margin-top: 1.5rem;">
              <pre style="padding: 0; border-radius: 8px; overflow: hidden;"><code class="language-python" style="border-radius: 8px;"># SHAP Visualization Code Example
import shap
import matplotlib.pyplot as plt

explainer = shap.TreeExplainer(model)
shap_values = explainer.shap_values(X)

# Waterfall Plot
shap.plots.waterfall(shap_values[0])
plt.show()</code></pre>
            </div>
          </details>
        </div>
      </div>
    </div>

    <hr>

    <div class="columns is-centered">
      <div class="column is-full-width">
        <h2 class="title is-3 reveal" data-i18n="highlights_title">Research Highlights</h2>
        <div class="content has-text-justified reveal delay-1">
          <ul class="highlight-list stagger-wrapper"> 
            <li class="stagger-item hover-card">
                <strong data-i18n="highlight_1">Performs parameterized modeling of five faults in marine diesel engine combustion chamber.</strong>
            </li>
            <li class="stagger-item hover-card">
                <strong data-i18n="highlight_2">Evaluated the effectiveness of SHAP method through comparison with multiple feature selection methods.</strong> 
            </li>
            <li class="stagger-item hover-card">
                <strong data-i18n="highlight_3">A novel insight into interpretable fault diagnosis is provided by integrating data-driven method with thermodynamic model.</strong> 
            </li>
          </ul>
        </div>
      </div>
    </div>

  </div>
</section>

<section class="section reveal" id="BibTeX" style="padding-top: 0; margin-top: -2rem;">
  <div class="container is-max-desktop content">
    <hr>
    <h2 class="title" data-i18n="citation_title">Citation</h2>
    
    <h4 class="title is-5 is-size-6-mobile" style="margin-bottom: 0.5rem; color: #666;">BibTeX</h4>
    <pre style="margin-bottom: 5px; background-color: #fcfcfc; border: 1px solid #e5e5e5; border-radius: 8px; padding: 1.25rem;"><code id="bibtex-source" class="language-latex">@article{luo2025thermodynamic,
  title     = {Thermodynamic simulation-assisted random forest: Towards explainable fault diagnosis of combustion chamber components of marine diesel engines},
  author    = {Luo, Congcong and Zhao, Minghang and Fu, Xuyun and Zhong, Shisheng and Fu, Song and Zhang, Kai and Yu, Xiaoxia},
  journal   = {Measurement},
  volume    = {251},
  pages     = {117252},
  year      = {2025},
  publisher = {Elsevier},
  doi       = {10.1016/j.measurement.2025.117252},
}</code></pre>
    
    <div class="level is-mobile" style="margin-top: 10px; margin-bottom: 2rem;">
      <div class="level-left">
        <button class="button is-dark is-small is-rounded" onclick="copyText('bibtex-source', this)">
          <span class="icon is-small"><i class="fas fa-copy"></i></span>
          <span class="btn-text">Copy BibTeX</span>
        </button>
      </div>
    </div>
  </div>
</section>

<footer class="footer">
  <div class="container">
    <div class="content has-text-centered">
      <a class="icon-link" href="https://doi.org/10.1016/j.measurement.2025.117252"><i class="fas fa-file-pdf"></i></a>
      <a class="icon-link" href="#" disabled><i class="fab fa-github"></i></a>
    </div>
    <div class="columns is-centered is-vcentered">
      <div class="column is-6">
        <div class="content">
          <p>This website is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a> License.</p>
          <p>Copyright © 2025 Congcong Luo et al. Published in <a href="https://doi.org/10.1016/j.measurement.2025.117252" target="_blank">Measurement</a>.</p>
          <p>Adapted from <a href="https://github.com/nerfies/nerfies.github.io">Nerfies</a>.</p>
          <p style="margin-top: 10px;">
            <img src="https://api.visitorbadge.io/api/visitors?path=ts-rf.github.io&label=Page%20Views&labelColor=%23555555&countColor=%23209cee&style=flat" alt="Page Views">
          </p>
        </div>
      </div>
      <div class="column is-2">
        <div style="width: 200px; height: 180px; margin: 0 auto; overflow: hidden; display: flex; justify-content: center; align-items: center;">
          <script type="text/javascript" id="clstr_globe" src="https://clustrmaps.com/globe.js?d=_zkZv1bfxiqAq8HXllAuUZNIvCYv603-zyA7z-Vpjfw"></script>
        </div>
      </div>
    </div>
    </div>
</footer>

<script>
// --- Multi-language Support ---

const languages = {
  'en': { name: 'English', dir: 'ltr' },
  'zh-CN': { name: '简体中文', dir: 'ltr' },
  'zh-TW': { name: '繁體中文', dir: 'ltr' },
  'fr': { name: 'Français', dir: 'ltr' },
  'de': { name: 'Deutsch', dir: 'ltr' },
  'ru': { name: 'Русский', dir: 'ltr' },
  'ja': { name: '日本語', dir: 'ltr' },
  'es': { name: 'Español', dir: 'ltr' },
  'ar': { name: 'العربية', dir: 'rtl' },
  'cs': { name: 'Čeština', dir: 'ltr' },
  'fa': { name: 'فارسی', dir: 'rtl' },
  'he': { name: 'עברית', dir: 'rtl' },
  'hi': { name: 'हिन्दी', dir: 'ltr' },
  'id': { name: 'Indonesia', dir: 'ltr' },
  'it': { name: 'Italiano', dir: 'ltr' },
  'ko': { name: '한국어', dir: 'ltr' },
  'nl': { name: 'Nederlands', dir: 'ltr' },
  'pl': { name: 'Polski', dir: 'ltr' },
  'pt': { name: 'Português', dir: 'ltr' },
  'ro': { name: 'Română', dir: 'ltr' },
  'sv': { name: 'Svenska', dir: 'ltr' },
  'th': { name: 'ไทย', dir: 'ltr' },
  'tr': { name: 'Türkçe', dir: 'ltr' },
  'uk': { name: 'Українська', dir: 'ltr' },
  'vi': { name: 'Tiếng Việt', dir: 'ltr' }
};

const translations = {
  'en': {
    'title': 'Thermodynamic simulation-assisted random forest: Towards explainable fault diagnosis of combustion chamber components of marine diesel engines',
    'nav_scholar': 'Minghang Zhao (Google Scholar)',
    'nav_paper': 'Paper',
    'nav_dataset': 'Dataset',
    'affiliations_a': 'Department of Mechanical Engineering, Harbin Institute of Technology, Weihai 264209, China',
    'abstract_title': 'Abstract',
    'abstract_p1': 'Aiming at the challenges that traditional intelligent fault diagnosis methods of marine diesel engines often suffer low generalizability due to the lack of fault training samples, as well as poor explainability due to the insufficient incorporation of domain knowledge on fault mechanism, this paper develops a Thermodynamic Simulation-assisted Random Forest (TSRF).',
    'abstract_p2': 'The method reveals fault characteristics through thermodynamic simulations and incorporates them as prior knowledge when designing the intelligent fault diagnosis model. Firstly, five thermodynamic fault models are developed by fine-tuning the essential system parameters to correspond with the distinct attributes of different faults. Then, potential thermodynamic indicators of combustion chamber component degradation are identified through numerical simulation results.',
    'abstract_p3': 'By calculating SHapley Additive explanations (SHAP) values, a parameter selection process is conducted to retain only those variables demonstrating significant correlations with fault states. Finally, the selected parameters are leveraged to assess the condition of the combustion chamber. The proposed TSRF achieved exceptional classification performance, illustrating a mean accuracy of 99.07% on the fault dataset.',
    'keywords_label': 'Keywords:',
    'motivation_title': 'Motivation',
    'motivation_p1': 'In the fields of marine engineering and Prognostics and Health Management (PHM), the industry faces two persistent bottlenecks:',
    'motivation_li1': 'Data Scarcity: Marine engines are high-value assets that are rarely operated to failure. This results in a critical shortage of the labeled "fault data" necessary to train robust machine learning models.',
    'motivation_li2': 'The "Black Box" Problem: Deep learning models often lack transparency. If an AI diagnoses a fault but cannot explain the physical reasoning, it is difficult for engineers to trust it. This lack of interpretability is a primary obstacle to widespread industry adoption.',
    'motivation_p2': 'To overcome these challenges, we introduce TSRF. By fusing physics-based mechanism models with advanced XAI techniques, we address the data scarcity problem through massive synthetic data generation and ensure that diagnostic decisions align with thermodynamic principles.',
    'methodology_title': 'Methodology',
    'highlights_title': 'Research Highlights',
    'highlight_1': 'Performs parameterized modeling of five faults in marine diesel engine combustion chamber.',
    'highlight_2': 'Evaluated the effectiveness of SHAP method through comparison with multiple feature selection methods.',
    'highlight_3': 'A novel insight into interpretable fault diagnosis is provided by integrating data-driven method with thermodynamic model.',
    'citation_title': 'Citation'
  },
  'zh-CN': {
    'title': '热力学仿真辅助随机森林：面向船舶柴油机燃烧室部件的可解释性故障诊断',
    'nav_scholar': '赵名扬 (Google Scholar)',
    'nav_paper': '论文',
    'nav_dataset': '数据集',
    'affiliations_a': '哈尔滨工业大学（威海）机械工程系，中国 威海 264209',
    'abstract_title': '摘要',
    'abstract_p1': '针对船舶柴油机传统智能故障诊断方法因缺乏故障样本而普遍存在泛化能力低，以及因对故障机理领域知识融合不足而导致可解释性差的挑战，本文提出了一种热力学仿真辅助随机森林（TSRF）方法。',
    'abstract_p2': '该方法通过热力学仿真揭示故障特征，并将其作为先验知识融入智能故障诊断模型的设计中。首先，通过微调关键系统参数以对应不同故障的显著属性，建立了五种热力学故障模型。随后，通过数值模拟结果确定了燃烧室部件退化的潜在热力学指标。',
    'abstract_p3': '通过计算 SHapley Additive exPlanations (SHAP) 值进行参数筛选，仅保留与故障状态显著相关的变量。最后，利用筛选出的参数评估燃烧室的状态。提出的 TSRF 方法实现了卓越的分类性能，在故障数据集上的平均准确率达到 99.07%。',
    'keywords_label': '关键词：',
    'motivation_title': '研究动机',
    'motivation_p1': '在船舶工程和故障预测与健康管理（PHM）领域，行业面临两大长期瓶颈：',
    'motivation_li1': '数据稀缺：船舶发动机属于高价值资产，极少运行至失效。这导致训练鲁棒机器学习模型所需的标注“故障数据”严重短缺。',
    'motivation_li2': '“黑箱”问题：深度学习模型往往缺乏透明度。如果 AI 诊断出故障却无法解释物理原因，工程师很难信任它。这种缺乏可解释性是阻碍行业广泛应用的主要障碍。',
    'motivation_p2': '为了克服这些挑战，我们引入了 TSRF。通过将基于物理的机理模型与先进的 XAI 技术融合，我们通过大规模合成数据生成解决了数据稀缺问题，并确保诊断决策符合热力学原理。',
    'methodology_title': '方法论',
    'highlights_title': '研究亮点',
    'highlight_1': '对船舶柴油机燃烧室部件的五种故障进行了参数化建模。',
    'highlight_2': '通过与多种特征选择方法的对比，评估了 SHAP 方法的有效性。',
    'highlight_3': '通过将数据驱动方法与热力学模型相结合，为可解释性故障诊断提供了新的见解。',
    'citation_title': '引用'
  },
  'zh-TW': {
    'title': '熱力學模擬輔助隨機森林：面向船舶柴油機燃燒室部件的可解釋性故障診斷',
    'nav_scholar': '趙名揚 (Google Scholar)',
    'nav_paper': '論文',
    'nav_dataset': '數據集',
    'affiliations_a': '哈爾濱工業大學（威海）機械工程系，中國 威海 264209',
    'abstract_title': '摘要',
    'abstract_p1': '針對船舶柴油機傳統智能故障診斷方法因缺乏故障樣本而普遍存在泛化能力低，以及因對故障機理領域知識融合不足而導致可解釋性差的挑戰，本文提出了一種熱力學模擬輔助隨機森林（TSRF）方法。',
    'abstract_p2': '該方法通過熱力學模擬揭示故障特徵，並將其作為先驗知識融入智能故障診斷模型的設計中。首先，通過微調關鍵系統參數以對應不同故障的顯著屬性，建立了五種熱力學故障模型。隨後，通過數值模擬結果確定了燃燒室部件退化的潛在熱力學指標。',
    'abstract_p3': '通過計算 SHapley Additive exPlanations (SHAP) 值進行參數篩選，僅保留與故障狀態顯著相關的變量。最後，利用篩選出的參數評估燃燒室的狀態。提出的 TSRF 方法實現了卓越的分類性能，在故障數據集上的平均準確率達到 99.07%。',
    'keywords_label': '關鍵詞：',
    'motivation_title': '研究動機',
    'motivation_p1': '在船舶工程和故障預測與健康管理（PHM）領域，行業面臨兩大長期瓶頸：',
    'motivation_li1': '數據稀缺：船舶發動機屬於高價值資產，極少運行至失效。這導致訓練魯棒機器學習模型所需的標註「故障數據」嚴重短缺。',
    'motivation_li2': '「黑箱」問題：深度學習模型往往缺乏透明度。如果 AI 診斷出故障卻無法解釋物理原因，工程師很難信任它。這種缺乏可解釋性是阻礙行業廣泛應用的主要障礙。',
    'motivation_p2': '為了克服這些挑戰，我們引入了 TSRF。通過將基於物理的機理模型與先進的 XAI 技術融合，我們通過大規模合成數據生成解決了數據稀缺問題，並確保診斷決策符合熱力學原理。',
    'methodology_title': '方法論',
    'highlights_title': '研究亮點',
    'highlight_1': '對船舶柴油機燃燒室部件的五種故障進行了參數化建模。',
    'highlight_2': '通過與多種特徵選擇方法的對比，評估了 SHAP 方法的有效性。',
    'highlight_3': '通過將數據驅動方法與熱力學模型相結合，為可解釋性故障診斷提供了新的見解。',
    'citation_title': '引用'
  },
  'fr': {
    'title': 'Forêt aléatoire assistée par simulation thermodynamique : Vers un diagnostic explicable des défauts des composants de la chambre de combustion',
    'nav_scholar': 'Minghang Zhao (Google Scholar)',
    'nav_paper': 'Article',
    'nav_dataset': 'Données',
    'affiliations_a': 'Département de génie mécanique, Institut de technologie de Harbin, Weihai 264209, Chine',
    'abstract_title': 'Résumé',
    'abstract_p1': 'Visant à relever les défis selon lesquels les méthodes traditionnelles de diagnostic intelligent souffrent souvent d\'une faible généralisabilité due au manque d\'échantillons de défauts, cet article développe une Forêt Aléatoire Assistée par Simulation Thermodynamique (TSRF).',
    'abstract_p2': 'La méthode révèle les caractéristiques des défauts par des simulations thermodynamiques et les incorpore comme connaissances a priori. Cinq modèles thermodynamiques de défauts sont développés en ajustant les paramètres essentiels du système.',
    'abstract_p3': 'En calculant les valeurs SHAP, un processus de sélection des paramètres est mené pour ne retenir que les variables significatives. Le TSRF proposé a atteint une précision moyenne de 99,07 % sur le jeu de données de défauts.',
    'keywords_label': 'Mots-clés :',
    'motivation_title': 'Motivation',
    'motivation_p1': 'L\'industrie est confrontée à deux goulots d\'étranglement persistants :',
    'motivation_li1': 'Pénurie de données : Les moteurs marins sont rarement utilisés jusqu\'à la panne, entraînant un manque critique de données étiquetées.',
    'motivation_li2': 'Problème de la « boîte noire » : Le manque de transparence des modèles d\'IA est un obstacle majeur à l\'adoption industrielle.',
    'motivation_p2': 'En fusionnant des modèles de mécanismes basés sur la physique avec des techniques XAI avancées, nous résolvons ces problèmes.',
    'methodology_title': 'Méthodologie',
    'highlights_title': 'Points forts',
    'highlight_1': 'Modélisation paramétrée de cinq défauts dans la chambre de combustion.',
    'highlight_2': 'Évaluation de l\'efficacité de la méthode SHAP par comparaison.',
    'highlight_3': 'Nouvelle perspective sur le diagnostic interprétable en intégrant des méthodes basées sur les données et des modèles thermodynamiques.',
    'citation_title': 'Citation'
  },
  'de': {
    'title': 'Thermodynamische simulationsgestützte Random Forests: Hin zu einer erklärbaren Fehlerdiagnose von Brennraumkomponenten',
    'nav_scholar': 'Minghang Zhao (Google Scholar)',
    'nav_paper': 'Artikel',
    'nav_dataset': 'Daten',
    'affiliations_a': 'Fakultät für Maschinenbau, Harbin Institute of Technology, Weihai 264209, China',
    'abstract_title': 'Zusammenfassung',
    'abstract_p1': 'Diese Arbeit entwickelt einen thermodynamischen simulationsgestützten Random Forest (TSRF), um die Probleme der geringen Generalisierbarkeit und schlechten Erklärbarkeit traditioneller Diagnosemethoden zu lösen.',
    'abstract_p2': 'Die Methode integriert Fehlermerkmale aus thermodynamischen Simulationen als Vorwissen. Fünf Fehlermodelle wurden durch Feinabstimmung wesentlicher Systemparameter entwickelt.',
    'abstract_p3': 'Durch SHAP-Werte werden nur signifikante Variablen beibehalten. Der TSRF erzielte eine außergewöhnliche Genauigkeit von 99,07 %.',
    'keywords_label': 'Schlüsselwörter:',
    'motivation_title': 'Motivation',
    'motivation_p1': 'Die Industrie steht vor zwei Engpässen:',
    'motivation_li1': 'Datenknappheit: Ein kritischer Mangel an gelabelten Fehlerdaten bei Schiffsmotoren.',
    'motivation_li2': 'Das „Black-Box“-Problem: Mangelnde Transparenz der KI behindert die industrielle Akzeptanz.',
    'motivation_p2': 'TSRF löst diese Probleme durch die Fusion von physikbasierten Modellen und XAI.',
    'methodology_title': 'Methodik',
    'highlights_title': 'Highlights',
    'highlight_1': 'Parametrisierte Modellierung von fünf Fehlern in der Brennkammer.',
    'highlight_2': 'Bewertung der SHAP-Methode durch Vergleichstests.',
    'highlight_3': 'Neue Einblicke in die interpretierbare Diagnose durch Integration von Daten und Thermodynamik.',
    'citation_title': 'Zitierung'
  },
  'ru': {
    'title': 'Случайный лес с термодинамическим моделированием: к объяснимой диагностике неисправностей судовых двигателей',
    'nav_scholar': 'Минхан Чжао (Google Scholar)',
    'nav_paper': 'Статья',
    'nav_dataset': 'Датасет',
    'affiliations_a': 'Кафедра машиностроения, Харбинский политехнический институт, Вэйхай, Китай',
    'abstract_title': 'Аннотация',
    'abstract_p1': 'Для решения проблем низкой обобщающей способности и плохой объяснимости традиционных методов разработан метод TSRF.',
    'abstract_p2': 'Метод использует термодинамическое моделирование для выявления характеристик неисправностей. Разработано пять моделей неисправностей.',
    'abstract_p3': 'С помощью значений SHAP отбираются значимые параметры. Точность метода составила 99,07%.',
    'keywords_label': 'Ключевые слова:',
    'motivation_title': 'Мотивация',
    'motivation_p1': 'Отрасль сталкивается с двумя проблемами:',
    'motivation_li1': 'Нехватка данных: Отсутствие размеченных данных о неисправностях дорогостоящих двигателей.',
    'motivation_li2': 'Проблема «черного ящика»: Непрозрачность ИИ мешает его внедрению.',
    'motivation_p2': 'TSRF объединяет физические модели и XAI для решения этих задач.',
    'methodology_title': 'Методология',
    'highlights_title': 'Основные моменты',
    'highlight_1': 'Параметрическое моделирование пяти неисправностей камеры сгорания.',
    'highlight_2': 'Оценка эффективности метода SHAP.',
    'highlight_3': 'Интеграция методов, основанных на данных, с термодинамическими моделями.',
    'citation_title': 'Цитирование'
  },
  'ja': {
    'title': '熱力学シミュレーション支援ランダムフォレスト：船舶用ディーゼル機関燃焼室部品の説明可能な故障診断に向けて',
    'nav_scholar': '趙名揚 (Google Scholar)',
    'nav_paper': '論文',
    'nav_dataset': 'データセット',
    'affiliations_a': 'ハルビン工業大学 機械工学部、威海、中国',
    'abstract_title': '概要',
    'abstract_p1': '従来の故障診断法の課題であるデータ不足による低い汎化性能と説明性の欠如を解決するため、熱力学シミュレーション支援ランダムフォレスト（TSRF）を開発しました。',
    'abstract_p2': 'この手法は、熱力学シミュレーションを通じて故障特性を明らかにし、事前知識として組み込みます。5つの故障モデルを開発し、劣化指標を特定しました。',
    'abstract_p3': 'SHAP値を用いて重要な変数のみを選択しました。提案手法は99.07%の平均精度を達成しました。',
    'keywords_label': 'キーワード：',
    'motivation_title': '研究動機',
    'motivation_p1': '業界は2つのボトルネックに直面しています：',
    'motivation_li1': 'データ不足：船舶エンジンの故障データが圧倒的に不足しています。',
    'motivation_li2': '「ブラックボックス」問題：AIの不透明性が産業界での採用を妨げています。',
    'motivation_p2': 'TSRFは、物理モデルとXAIを融合させることでこれらの課題を克服します。',
    'methodology_title': '方法論',
    'highlights_title': '研究のハイライト',
    'highlight_1': '燃焼室の5つの故障のパラメータ化モデリングを実行。',
    'highlight_2': 'SHAP法の有効性を比較により評価。',
    'highlight_3': 'データ駆動型手法と熱力学モデルの統合による新たな知見の提供。',
    'citation_title': '引用'
  },
  'es': {
    'title': 'Bosque aleatorio asistido por simulación termodinámica: Hacia un diagnóstico explicable de fallas',
    'nav_scholar': 'Minghang Zhao (Google Scholar)',
    'nav_paper': 'Artículo',
    'nav_dataset': 'Datos',
    'affiliations_a': 'Departamento de Ingeniería Mecánica, Instituto de Tecnología de Harbin, China',
    'abstract_title': 'Resumen',
    'abstract_p1': 'Este artículo desarrolla un Bosque Aleatorio Asistido por Simulación Termodinámica (TSRF) para abordar la baja generalización y explicabilidad de los métodos tradicionales.',
    'abstract_p2': 'El método incorpora características de fallas simuladas como conocimiento previo. Se desarrollaron cinco modelos termodinámicos de fallas.',
    'abstract_p3': 'Utilizando valores SHAP, se seleccionan parámetros clave. TSRF logró una precisión del 99.07%.',
    'keywords_label': 'Palabras clave:',
    'motivation_title': 'Motivación',
    'motivation_p1': 'La industria enfrenta dos cuellos de botella:',
    'motivation_li1': 'Escasez de datos: Falta crítica de datos de fallas en motores marinos.',
    'motivation_li2': 'Problema de "Caja Negra": La falta de interpretabilidad del aprendizaje profundo.',
    'motivation_p2': 'TSRF fusiona modelos físicos y XAI para resolver esto.',
    'methodology_title': 'Metodología',
    'highlights_title': 'Destacados',
    'highlight_1': 'Modelado parametrizado de cinco fallas en la cámara de combustión.',
    'highlight_2': 'Evaluación de la efectividad del método SHAP.',
    'highlight_3': 'Nueva perspectiva en diagnóstico interpretable integrando datos y física.',
    'citation_title': 'Cita'
  },
  'ar': {
    'title': 'الغابة العشوائية بمساعدة المحاكاة الديناميكية الحرارية: نحو تشخيص قابل للتفسير لأعطال محركات الديزل',
    'nav_scholar': 'Minghang Zhao (Google Scholar)',
    'nav_paper': 'ورقة',
    'nav_dataset': 'بيانات',
    'affiliations_a': 'قسم الهندسة الميكانيكية، معهد هاربين للتكنولوجيا، الصين',
    'abstract_title': 'ملخص',
    'abstract_p1': 'يهدف هذا البحث إلى تطوير الغابة العشوائية بمساعدة المحاكاة الديناميكية الحرارية (TSRF) لحل مشاكل نقص البيانات وضعف التفسير.',
    'abstract_p2': 'تكشف الطريقة عن خصائص العطل من خلال المحاكاة وتدمجها كمعرفة مسبقة. تم تطوير خمسة نماذج للأعطال.',
    'abstract_p3': 'باستخدام قيم SHAP، تم اختيار المعلمات المهمة. حققت TSRF دقة بنسبة 99.07٪.',
    'keywords_label': 'الكلمات الدالة:',
    'motivation_title': 'الدافع',
    'motivation_p1': 'تواجه الصناعة عقبتين:',
    'motivation_li1': 'ندرة البيانات: نقص حاد في بيانات أعطال المحركات البحرية.',
    'motivation_li2': 'مشكلة "الصندوق الأسود": افتقار الذكاء الاصطناعي للشفافية.',
    'motivation_p2': 'تدمج TSRF النماذج الفيزيائية مع XAI للتغلب على هذه التحديات.',
    'methodology_title': 'المنهجية',
    'highlights_title': 'أبرز النقاط',
    'highlight_1': 'نمذجة بارامترية لخمسة أعطال في غرفة الاحتراق.',
    'highlight_2': 'تقييم فعالية طريقة SHAP.',
    'highlight_3': 'رؤية جديدة في التشخيص القابل للتفسير بدمج البيانات والفيزياء.',
    'citation_title': 'الاقتباس'
  }
};

// --- Initialization Logic ---

function initLanguageDropdown() {
  const dropdown = document.getElementById('language-dropdown');
  const codes = Object.keys(languages).sort();
  
  codes.forEach(code => {
    const item = document.createElement('a');
    item.className = 'navbar-item';
    item.textContent = languages[code].name;
    item.onclick = () => setLanguage(code);
    dropdown.appendChild(item);
  });
}

function setLanguage(langCode) {
  if (!languages[langCode]) langCode = 'en';
  
  // 1. Update Label
  document.getElementById('current-lang-label').textContent = languages[langCode].name;
  
  // 2. Handle RTL
  if (languages[langCode].dir === 'rtl') {
    document.documentElement.setAttribute('dir', 'rtl');
  } else {
    document.documentElement.removeAttribute('dir');
  }
  document.documentElement.lang = langCode;

  // 3. Update Text Content
  const content = translations[langCode] || translations['en'];
  
  document.querySelectorAll('[data-i18n]').forEach(element => {
    const key = element.getAttribute('data-i18n');
    if (content[key]) {
      element.textContent = content[key];
    } else if (translations['en'][key]) {
      // Fallback to English for missing keys in minor languages
      element.textContent = translations['en'][key];
    }
  });

  // 4. Save Preference
  localStorage.setItem('preferred-language', langCode);
}

async function detectLocationAndSetLanguage() {
  const savedLang = localStorage.getItem('preferred-language');
  if (savedLang) {
    setLanguage(savedLang);
    return;
  }

  try {
    const response = await fetch('https://ipapi.co/json/');
    const data = await response.json();
    const country = data.country_code;
    
    // Simple Country -> Language Mapping
    const countryMap = {
      'CN': 'zh-CN', 'HK': 'zh-TW', 'TW': 'zh-TW',
      'US': 'en', 'GB': 'en', 'FR': 'fr', 'DE': 'de',
      'RU': 'ru', 'JP': 'ja', 'ES': 'es', 'MX': 'es',
      'SA': 'ar', 'AE': 'ar', 'EG': 'ar',
      'KR': 'ko', 'IT': 'it', 'TR': 'tr', 'TH': 'th',
      'VN': 'vi', 'ID': 'id', 'PL': 'pl', 'PT': 'pt',
      'BR': 'pt', 'IR': 'fa', 'IL': 'he', 'IN': 'hi',
      'NL': 'nl', 'SE': 'sv', 'RO': 'ro', 'UA': 'uk',
      'CZ': 'cs'
    };

    const targetLang = countryMap[country] || 'en';
    setLanguage(targetLang);

  } catch (error) {
    console.log('IP detection failed, defaulting to English.');
    setLanguage('en');
  }
}

function copyText(elementId, btn) {
  const textToCopy = document.getElementById(elementId).innerText;
  navigator.clipboard.writeText(textToCopy).then(() => {
    const icon = btn.querySelector('.fa-copy');
    const text = btn.querySelector('.btn-text');
    const originalText = text ? text.innerText : "";
    
    if(icon) { icon.classList.remove('fa-copy'); icon.classList.add('fa-check'); }
    if(text) text.innerText = "Copied!";
    btn.classList.remove('is-dark'); btn.classList.add('is-success');
    
    setTimeout(() => {
      if(icon) { icon.classList.remove('fa-check'); icon.classList.add('fa-copy'); }
      if(text) text.innerText = originalText;
      btn.classList.remove('is-success'); btn.classList.add('is-dark');
    }, 2000);
  });
}

document.addEventListener('DOMContentLoaded', () => {
  initLanguageDropdown();
  detectLocationAndSetLanguage();
  
  // Reveal Animations
  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add('active');
      }
    });
  }, { threshold: 0.1 });

  document.querySelectorAll('.reveal, .stagger-wrapper').forEach(el => observer.observe(el));
});
</script>

</body>
</html>
